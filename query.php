<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>iPop</title><style id="custom-cursor" type="text/css">body button, body [type='button'], body input[type='reset'], body input[type='submit'], body [role="button"], ::-webkit-search-cancel-button, ::-webkit-search-decoration, ::-webkit-scrollbar-button, ::-webkit-file-upload-button, [role^=button], .cc_pointer, [type="search"]::-webkit-search-cancel-button, a, select, [type="search"]::-webkit-search-decoration, .paper-button, .ytp-progress-bar-container, input[type=submit], :link, :visited, a > *, img,  ::-webkit-scrollbar-button, .ogdlpmhglpejoiomcodnpjnfgcpmgale_pointer, ::-webkit-file-upload-button, .ytp-volume-panel, #myogdlpmhglpejoiomcodnpjnfgcpmgale .icon, body .custom-cursor-on-hover {cursor: url("data:image/png;base64,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") 8 1, pointer !important;} html,body,body select,body .custom-cursor-default-hover {cursor: url("data:image/png;base64,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") 1 1, auto !important;}</style></head>
<body bgcolor="ffffff"> 

<h2><a href="home.html">Back to home</a></h2>
<br/>



<?php
$servername = "cssql.seattleu.edu";
$username = "bd_mbaloban";
$password = "06AOYS96";
$dbname = "bd_mbaloban";
// Create connection
$conn = mysqli_connect($servername, $username, $password, $dbname);
// Check connection
if (!$conn) {
die("Connection failed: " . mysqli_connect_error());
}
?>

<?php
$query = $_GET["query"];

switch ($query) {
    case 1:
        $sql = "select SongName, Artist.ArtistName, Link
        from Song
        join Artist_Song using (SongID)
        join Artist using (ArtistID)
        where Artist.ArtistName = 'Chance Pena';";

        $desc = "This shows all the songs by the artist 'Chance Pena'";
        break;
    case 2:
        $sql = "select Playlist.PlaylistName, sum(Song.Length) as PlaylistLength
        from Playlist_Song
        join Song using (SongID)
        join Playlist using (PlaylistID)
        where Playlist.PlaylistName = 'Alternative & Indie'";

        $desc = "This shows the total length of the playlist 'Alternative & Indie'";
        break;
    case 3:
        $sql = "select SongName, Artist.ArtistName, Link, Streams
        from Song
        left join Artist_Song using (SongID)
        left join Artist using (ArtistID)
        where Streams = (select max(Streams)
        from Song)";

        $desc = "This finds the song with the most number of streams";
        break;
    case 4:
        $sql = "select Playlist.PlaylistName, count(*) as NumberOfSongsInPlaylist
        from Playlist_Song
        join Playlist using (PlaylistID)
        group by Playlist.PlaylistID
        having count(*) > 1";

        $desc = "This counts the number of songs in each playlist, and returns all values in the
        Playlist table with that count, only when the playlist has more than one song";
        break;
    case 5:
        $sql = "select Playlist.PlaylistName
        from User
        left join Playlist using (Username)
        where Username = 'elissalr'";

        $desc = "This shows all the playlists owned by a chosen user 'elissalr'";
        break;
    default:
      //code block
  }


echo "<H1>Viewing query $query - $desc</H1><br>";

$result = mysqli_query($conn, $sql);
$firstRow = true;

if (mysqli_num_rows($result) > 0) {
    echo "<table>";

    // show column names
    $finfo = $result->fetch_fields();
    echo "<tr>\n";
    foreach ($finfo as $val){
        echo "<td><b>" . $val->name . "</b></td>\n";
    }
    echo "</tr>\n";

    while($row = mysqli_fetch_row($result)) {
        // for each row
        echo "<tr>\n";
        $finfo = $result->fetch_fields();
        $i = 0;
        foreach ($finfo as $val){
            // PhotoLink,AlbumArtLink - images
            if ($val->name == "PhotoLink" || $val->name == "AlbumArtLink") {
                echo "<td><img height=100 src='" . $row[$i] . "'></td>\n";
            } else {
                echo "<td>" . $row[$i] . "</td>\n";
            }
            $i = $i + 1;
        }
        echo "</tr>\n";
    }
    echo "</table>";
} else {
    echo "0 results";
}


// Free result set
mysqli_free_result($result);
?>

<?php
mysqli_close($conn);
?>



</body>
</html>